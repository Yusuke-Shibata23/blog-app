# ワークフロー

## 投稿一覧表示フロー

1. **初期表示**
   - `PostList.vue`がマウントされる
   - `mounted`フックで`fetchPosts`を実行
   - ローディング状態を表示

2. **データ取得**
   - `PostController@index`にリクエスト
   - ステータスと検索条件でフィルタリング
   - ページネーション処理

3. **データ表示**
   - 取得したデータをテーブルに表示
   - 各投稿のステータスに応じた表示
   - 編集・削除ボタンの表示

## 投稿作成フロー

1. **フォーム表示**
   - 新規作成ボタンクリック
   - `PostForm.vue`を表示
   - 初期状態の設定

2. **入力処理**
   - タイトル、内容の入力
   - Markdownエディターでの編集
   - リアルタイムプレビュー表示
   - 画像のアップロード

3. **保存処理**
   - 保存ボタンクリック
   - バリデーション実行
   - `PostController@store`にリクエスト
   - 成功時は一覧に戻る

## 投稿編集フロー

1. **フォーム表示**
   - 編集ボタンクリック
   - `PostForm.vue`を表示
   - 既存データの読み込み

2. **編集処理**
   - 内容の編集
   - 画像の追加・削除
   - ステータスの変更
   - リアルタイムプレビュー

3. **更新処理**
   - 更新ボタンクリック
   - バリデーション実行
   - `PostController@update`にリクエスト
   - 成功時は一覧に戻る

## 投稿削除フロー

1. **削除確認**
   - 削除ボタンクリック
   - 確認ダイアログ表示
   - ユーザーの確認待ち

2. **削除処理**
   - 確認後、`PostController@destroy`にリクエスト
   - 関連する画像も削除
   - 成功時は一覧を更新

## 画像処理フロー

1. **アップロード**
   - ファイル選択
   - プレビュー表示
   - 一時保存

2. **保存処理**
   - フォーム送信時に画像をアップロード
   - ファイル名の生成
   - ストレージへの保存

3. **削除処理**
   - 削除ボタンクリック
   - プレビューから削除
   - 保存時に物理ファイルも削除

## エラーハンドリング

1. **バリデーションエラー**
   - エラーメッセージの表示
   - 該当フィールドのハイライト
   - 再入力の促し

2. **ネットワークエラー**
   - エラーメッセージの表示
   - リトライオプションの提供
   - エラーログの記録

3. **その他のエラー**
   - エラーメッセージの表示
   - フォールバック処理の実行
   - エラーログの記録

## 状態管理

1. **フォーム状態**
   - 入力値の管理
   - バリデーション状態
   - 送信状態

2. **UI状態**
   - ローディング表示
   - エラーメッセージ
   - モーダル表示

3. **データ状態**
   - 投稿データ
   - 画像データ
   - ページネーション情報 